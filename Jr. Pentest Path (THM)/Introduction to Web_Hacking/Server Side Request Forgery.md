What is an SSRF?

Server-Side Request Forgery - vulnerability that allows malicious users to cause web servers to make HTTP requests to resources of an attackers choosing 

Examples of what SSRF can achieve:
- Access to unauthorized information
- Access to customer/organization data
- Ability to scale internal networks
- Reveal authentication tokens/credentials


### SSRF using URL Modification
Ex. 

Expected Request -> https://wbesite.com/stock?url=https://website.com/api/stock/item?id=123

Hacker Requests ->    https://wbesite.com/stock?url=https://website.com/api/user

Website Requests ->  https://website.com/api/user

 Hackers are able to add URL values to existing requests that will return different output

### SSFR using Directory Transversal
Ex. 

Expected Request -> https://wbesite.com/stock?url=/item?id=123

Hacker Requests ->    https://wbesite.com/stock?url=/../user

Website Requests ->  https://website.com/api/stock/../user


### Using "&x=" in HTML requests

- Payloads that end with "&x=" can stop the remaining path of URL from being appended and instead turn it into a parameter


### Finding SSRF's 

Places to search:
1) When a full uRL is used in a parameter in the address bar
	- Ex. http://example.com/form? ==server=http:examples.website.com==

2) Hidden Fields in Forms (HTML or backend code)
	- Ex.  value="https://example.website.com"

3) Partial URL such as just the hostname:
	- Ex. https://example.website.com ==server=api==

4) URL Paths
	- Ex. https://example.website.com ==dst=/forms/contact==


### Methods to Protect against SSRF (Developer)

#### Deny List
- A list where all requests are accepted apart from resource specified in a list of matching a pattern
- Protects endpoints, IP addresses, domains from being accessed by the public while still allowing access to other locations

Special Case Example -> IP Address 169.254.169.254 often is blocked because it contains metadata for a deployed cloud server (including sensitive information)
#### Allow List
- A list where all requests get denied unless they appear on a list or match a particular pattern

#### Open Redirect 
- A endpoint on a server where the website visitor gets automatically redirected to another website address.
